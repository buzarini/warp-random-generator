const fetch = require('node-fetch');
const nacl = require('tweetnacl');
const { Buffer } = require('buffer');
const wnacl = require('tweetnacl');
const { wBuffer } = require('buffer');

function generateKeys() {
    const keyPair = nacl.box.keyPair();
    return {
        privKey: Buffer.from(keyPair.secretKey).toString('base64'),
        pubKey: Buffer.from(keyPair.publicKey).toString('base64')
    };
}
 
function wgenerateKeys() {
    const wkeyPair = nacl.box.keyPair();
    return {
        wprivKey: Buffer.from(wkeyPair.secretKey).toString('base64'),
        wpubKey: Buffer.from(wkeyPair.publicKey).toString('base64')
    };
}

function generateRandomEndpoint() {
    const ranges = [
        { prefix: "162.159.195.", min: 1, max: 10 }
    ];
    const ports = [4500, 2408, 1701, 500];

    const range = ranges[Math.floor(Math.random() * ranges.length)];
    const randomNumber = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
    const port = ports[Math.floor(Math.random() * ports.length)];

    return {
        ip: `${range.prefix}${randomNumber}`,
        port: port
    };
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API Cloudflare
async function apiRequest(method, endpoint, body = null, wtoken = null) {
    const headers = {
        'User-Agent': '',
        'Content-Type': 'application/json',
    };

    if (wtoken) {
        headers['Authorization'] = `Bearer ${wtoken}`;
    }

    const options = {
        method,
        headers,
    };

    if (body) {
        options.body = JSON.stringify(body);
    }

    const response = await fetch(`https://api.cloudflareclient.com/v0i1909051800/${endpoint}`, options);
    return response.json();
}

async function wapiRequest(method, endpoint, body = null, token = null) {
    const headers = {
        'User-Agent': '',
        'Content-Type': 'application/json',
    };

    if (token) {
        headers['Authorization'] = `Bearer ${token}`;
    }

    const options = {
        method,
        headers,
    };

    if (body) {
        options.body = JSON.stringify(body);
    }

    const wresponse = await fetch(`https://api.cloudflareclient.com/v0i1909051800/${endpoint}`, options);
    return wresponse.json();
}

async function generateWarpConfig() {
    const { privKey, pubKey } = generateKeys();

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    const regBody = {
        install_id: "",
        tos: new Date().toISOString(),
        key: pubKey,
        fcm_token: "",
        type: "ios",
        locale: "en_US"
    };
    const regResponse = await apiRequest('POST', 'reg', regBody);

    const id = regResponse.result.id;
    const token = regResponse.result.token;

    // –í–∫–ª—é—á–µ–Ω–∏–µ WARP
    const warpResponse = await apiRequest('PATCH', `reg/${id}`, { warp_enabled: true }, token);

    const peer_pub = warpResponse.result.config.peers[0].public_key;
    const client_ipv4 = warpResponse.result.config.interface.addresses.v4;
    const client_ipv6 = warpResponse.result.config.interface.addresses.v6;

    const reserved64 = warpResponse.result.config.client_id;
    const reservedHex = Buffer.from(reserved64, 'base64').toString('hex');
    const reservedDec = reservedHex.match(/.{1,2}/g).map(hex => parseInt(hex, 16)).join(', ');
    const reservedHex2 = '0x' + reservedHex;

    const { wprivKey, wpubKey } = wgenerateKeys();
    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    const wregBody = {
        install_id: "",
        tos: new Date().toISOString(),
        key: wpubKey,
        fcm_token: "",
        type: "ios",
        locale: "en_US"
    };
    const wregResponse = await wapiRequest('POST', 'reg', wregBody);
    const wid = wregResponse.result.id;
    const wtoken = wregResponse.result.token;
    // –í–∫–ª—é—á–µ–Ω–∏–µ WARP
    const wwarpResponse = await wapiRequest('PATCH', `reg/${wid}`, { warp_enabled: true }, wtoken);
    const wpeer_pub = wwarpResponse.result.config.peers[0].public_key;
    const wclient_ipv4 = wwarpResponse.result.config.interface.addresses.v4;
    const wclient_ipv6 = wwarpResponse.result.config.interface.addresses.v6;
    const wreserved64 = wwarpResponse.result.config.client_id;
    const wreservedHex = Buffer.from(wreserved64, 'base64').toString('hex');
    const wreservedDec = wreservedHex.match(/.{1,2}/g).map(hex => parseInt(hex, 16)).join(', ');
    const wreservedHex2 = '0x' + wreservedHex;

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ endpoint
    const randomEndpoint = generateRandomEndpoint();
    const wrandomEndpoint = generateRandomEndpoint();

    // –§–æ—Ä–º–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥
    const conf = `# –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å –∫—É—á–µ–π —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ (–ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã, YouTube, Discord, Telegram, Cloudflare)
# –ö–æ–Ω—Ñ–∏–≥ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –†–æ—Å—Å–∏–∏.
# –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω, –∞ —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏.
# –ê–≤—Ç–æ—Ä –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤—Å–µ–∑–Ω–∞—é—â–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–µ–±—è.
# –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç–µ –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –í –æ—Å–Ω–æ–≤–Ω–æ–º –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Mihomo ‚Äî
# https://wiki.metacubex.one/ru/config/

# –í —à–∞–±–ª–æ–Ω–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ—Å—Ç—ã –∏ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–∫—Å–∏, —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
# –í —à–∞–±–ª–æ–Ω–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–∫—Å–∏-–≥—Ä—É–ø–ø—ã ¬´–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π¬ª.
#
# –í —à–∞–±–ª–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏-–≥—Ä—É–ø–ø–∞ ¬´–õ—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä¬ª. –í–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã ‚Äî —Ö–æ—Å—Ç—ã –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –∏–∑ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π –∏ —Ç.–¥.
# –î–ª—è –ø—Ä–æ–∫—Å–∏-–≥—Ä—É–ø–ø—ã ¬´RU —Å–∞–π—Ç—ã¬ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–∫—Å–∏ ‚Äî ¬´–ë–µ–∑ –í–ü–ù¬ª (—Ç.–µ. DIRECT).
#
# –°–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ re:filter –∏ itdog ‚Äî –¥–ª—è –ø—Ä–æ–∫—Å–∏-–≥—Ä—É–ø–ø—ã ¬´–ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã¬ª. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ rules.

# –ë–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ Legiz, PentiumB –∏ itdog, —á—å–∏ —Å–ø–∏—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–∞–≤–∏–ª.
# –¢–∞–∫–∂–µ —Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ—è—Å–Ω–µ–Ω–∏—è –∏ –∏–¥–µ–∏ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤. –û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ —Å–æ–æ–±—â–µ—Å—Ç–≤—É Remnawave –∏ –µ—ë —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.

mixed-port: 7890
allow-lan: true
lan-allowed-ips: # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ ip –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ lan
  - 0.0.0.0/8
  - 10.0.0.0/8
  - 100.64.0.0/10
  - 127.0.0.0/8
  - 169.254.0.0/16
  - 172.16.0.0/12
  - 192.0.0.0/24
  - 192.0.2.0/24
  - 192.88.99.0/24
  - 192.168.0.0/16
  - 198.18.0.0/15
  - 198.51.100.0/24
  - 203.0.113.0/24
  - 224.0.0.0/3
  - ::/127
  - fc00::/7
  - fe80::/10
  - ff00::/8
tcp-concurrent: true
enable-process: true
find-process-mode: always
mode: rule
log-level: info
ipv6: true # true - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ipv6
bind-address: "*"
keep-alive-interval: 30
unified-delay: false

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
    TLS:
      ports:
        - 443
        - 8443
    # –î–ª—è VLESS REALITY –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞, —Ç–∞–∫ –∫–∞–∫ –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–µ–ª–∞–µ–º REJECT –≤ rules. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º.
    QUIC:
      ports:
        - 443

  skip-dst-address: # –ü—Ä–æ–ø—É—Å–∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö IP
    - 0.0.0.0/8
    - 10.0.0.0/8
    - 100.64.0.0/10
    - 127.0.0.0/8
    - 169.254.0.0/16
    - 172.16.0.0/12
    - 192.0.0.0/24
    - 192.0.2.0/24
    - 192.88.99.0/24
    - 192.168.0.0/16
    - 198.18.0.0/15
    - 198.51.100.0/24
    - 203.0.113.0/24
    - 224.0.0.0/3
    - ::/127
    - fc00::/7
    - fe80::/10
    - ff00::/8

tun:
  enable: true
  stack: gvisor
  auto-route: true
  auto-detect-interface: true
  dns-hijack:
    - any:53
    - tcp://any:53
  strict-route: true
  route-exclude-address:
    - 127.0.0.0/8
    - ::1/128

dns:
  enable: true
  prefer-h3: false
  use-hosts: true
  use-system-hosts: true
  ipv6: true #true - –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—å –≤ ipv6
  enhanced-mode: redir-host
  # ----
  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞–µ–º DNS —Å–µ—Ä–≤–µ—Ä–∞. –ù–∞ –≤–∞—à –≤—ã–±–æ—Ä —Å –±–æ–ª—å—à–∏–º –∑–∞–ø–∞—Å–æ–º, –Ω–∞ —Å–ª—É—á–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  default-nameserver:
    # DNS –¥–ª—è –¥–æ–º–µ–Ω–æ–≤ DNS —Å–µ—Ä–≤–µ—Ä–æ–≤
    - tls://1.1.1.1
    - tls://1.0.0.1
  proxy-server-nameserver:
    # DNS –¥–ª—è –¥–æ–º–µ–Ω–æ–≤ –ø—Ä–æ–∫—Å–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ proxies
    - tls://1.1.1.1
    - tls://1.0.0.1
  direct-nameserver:
    # DNS –¥–ª—è —Å–∞–π—Ç–æ–≤ –∏–¥—É—â–∏—Ö —á–µ—Ä–µ–∑ DIRECT
    - tls://1.1.1.1
    - tls://1.0.0.1
  nameserver:
    # –°–µ—Ä–≤–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–º–µ–Ω–æ–≤, –∏–¥—É—â–∏—Ö —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
    - tls://1.1.1.1
    - tls://1.0.0.1

proxies:
  - name: "üá∑üá∫ –ë–µ–∑ VPN"
    type: direct
    udp: true

  - name: "WARP"
    type: wireguard
    private-key: ${privKey}
    server: ${randomEndpoint.ip}
    port: ${randomEndpoint.port}
    ip: ${client_ipv4}
    ipv6: ${client_ipv6}
    public-key: ${peer_pub}
    allowed-ips: ["0.0.0.0/0", "::/0"]
    reserved: [${reservedDec}]
    udp: true
    mtu: 1280
    amnezia-wg-option:
      jc: 4
      jmin: 40
      jmax: 70
      s1: 0
      s2: 0
      h1: 1
      h2: 2
      h4: 3
      h3: 4
      i1: <b 0xcd0000000108d99f5038a24b30b8000044d0aa2810fa78617c54d9b9c3a0363b8039b0f4b6204382a9856f8823ab062e091258db08dc234f016757f9350a5f125c956b505e69557f6b65f30cf5d790dda5e2610584b47e1d570a8ba4944804a23cbbe83be5ed3dea22765eebc7659b1ad5fc522b7e9a5c3a7010c752ee46e6a264a2b672abdab82546bd063952d107d9b2ab71b249a7f6c873614371de49ff3d5ac8e6630f264f41ce0dfb1c986a26ec0e143418129c63c55f939ad861e75e22a57655dc9e7c17e385b1ac969706f8aae3f46263f642f3e6e7b8dacb91117365aa45c3f4fb48af01e5eaed968a10b5df48d78b0cc293c8ba0df35cb7918b7ba106bed3ed9c081d5cc719c9b1f16ba6aa10c47e698291529f397e150b7bc0cd6d5cd2263653b10a3d4a9af64d0b89b674bbcae1970394d01267715123f0eda63121b5046a95280113c73b64da60e424013749d61e8254a808c38ab990fb26ded32fb9d0c23f231c848193b2a86a41da19292c6a595af901ef125e1d8ab0e908a77fcf4cca568353b8657bca0e924bc467b21ff5a5c73dd460fd613d1496446decf440894987be299d73f553c5242441f01175a69bacbd69286ce3db49748966cd3728a85bf87cc463cd03ab22716b67cc5ce3c224741f1d1aeb837a313e17f1c45baf423af1d551d095677f57bd68ca5d3a0447d76638b1881ecf3dca9dc897bbc9d2905a6716cfab5f19095701caa0cce0b6875c90f3074f0b6015795730c8f51d8662c418601841aca5503fee0eb67f2eab5c1c7373fd6fe32d418c2e7fc3a3d69c8942cf2d541a9c3e282edd7f1e93cdebb2934f30c4376ab3169d24068f0068a829a19b60237c78c6048ef96c3441e03a03fca4710b00427f0db8bd2c2096174e151a3868d47e8620f95476f7a2b1b4ed8b9483932e43baba03d26a2421059cffc73bad39e3f303258127c23f23ee7764663058ddff057e5df70c9024fd608dd5053570dd61d9d8b4fc15db3f103f881514c9591730274fab13fc51ab418c141475181ca538e19e25981072402866a8c46fc399b398a7443f9ae2c4e83747a4a493df47ceb3cd68f8fdb4cad1c152e2e6d99d888951e045de5718822901d30dd66fdf53939efcb9b9f68463e8c7ae38628e0abbc045601496eb207147a88fd88f04f71a240d17415547c4bcc31212afa6aa2cb42cca7d6a18529aca8e04706168d225c9b8923763a4a00e61250aa91e2ba68d73dfae07518b855a3976b7f7228af088a18e296ab47d5cd11e5822683161d131241db87f6d5c36a6f126d5521304058b85e716761e96afb2f0477eee50e1de98339e70a57380a81a57224512de367c490d943ae3f6f1b822fa6544a1194909efcdffb60831ca772bf09f573eeff004ed164a5c704cd8f40b15ec1963b792183ec86b33dc4a1e4cb90cfd273de3fd2436add2d40ccd508e539a48fff187496b9b505d2befac40db1726ab0e826f7bbc5a26fff3630ffbb663535f9e436b69e0db2575bca5464032f6b1a93769eebe4e16a446036a6c4fe75d64b354edd62150fbcfd09b91db08dbf577bee84f20aedf6bfada7494bdc5864337b06cb28758693031319b5ea2f9391fed365c9712f4dc40bbcc71feca4418397abf898e36b26d454d5c06385a1a9fb3d12339d1f939d2e465a88f691a640d5d69c8389e81c1937014902c83046f1ffe8ad2491bab425517acf9c7d866adde79fdc76e56d4ef5183a201ac231eb165a03853786dd5ff>

  - name: "WARP in WARP"
    dialer-proxy: WARP
    type: wireguard
    private-key: ${wprivKey}
    server: ${wrandomEndpoint.ip}
    port: ${wrandomEndpoint.port}
    ip: ${wclient_ipv4}
    ipv6: ${wclient_ipv6}
    public-key: ${wpeer_pub}
    allowed-ips: ["0.0.0.0/0", "::/0"]
    reserved: [${wreservedDec}]
    udp: true
    mtu: 1280

proxy-groups:
  - name: üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
    icon: https://raw.githubusercontent.com/remnawave/templates/refs/heads/main/icons/Blocked.png
    type: select
    proxies:
      - üé≤ –õ—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
      - üá∑üá∫ –ë–µ–∑ VPN # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

  - name: ‚ñ∂Ô∏è YouTube
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    type: select
    proxies:
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
      - üá∑üá∫ –ë–µ–∑ VPN

  - name: üí¨ Discord
    icon: https://raw.githubusercontent.com/remnawave/templates/refs/heads/main/icons/Discord.png
    type: select
    proxies:
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
      - üá∑üá∫ –ë–µ–∑ VPN

  - name: ‚û§ Telegram
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    type: select
    proxies:
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
      - üá∑üá∫ –ë–µ–∑ VPN

  - name: üü† Cloudflare
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Cloudflare.png
    type: select
    proxies:
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
      - üá∑üá∫ –ë–µ–∑ VPN

  - name: ‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Russia.png
    type: select
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave
      include-proxies: false # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å true, –ø—Ä–æ–∫—Å–∏ –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ —ç—Ç—É –≥—Ä—É–ø–ø—É
    proxies:
      - üá∑üá∫ –ë–µ–∑ VPN

  - name: üåç –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    type: select
    proxies:
      - üá∑üá∫ –ë–µ–∑ VPN
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã

  - name: PROXY
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave
      include-proxies: true
    type: select
    hidden: true
    proxies:
      - üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã

  - name: üé≤ –õ—é–±–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
    type: select
    proxies:
      - WARP
      - WARP in WARP
    remnawave: # –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ç–æ–ª—å–∫–æ –≤ Remnawave
      include-proxies: true
      shuffle-proxies-order: true
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    hidden: false
    lazy: true

rule-providers:
  ru-inline-banned:
    type: inline
    payload:
      - DOMAIN-SUFFIX,habr.com
      - DOMAIN-SUFFIX,seasonvar.ru
      - DOMAIN-SUFFIX,lib.social
      - DOMAIN-SUFFIX,kemono.su
      - DOMAIN-SUFFIX,jut.su
      - DOMAIN-SUFFIX,kara.su
      - DOMAIN-SUFFIX,theins.ru
      - DOMAIN-SUFFIX,tvrain.ru
      - DOMAIN-SUFFIX,echo.msk.ru
      - DOMAIN-SUFFIX,the-village.ru
      - DOMAIN-SUFFIX,snob.ru
      - DOMAIN-SUFFIX,novayagazeta.ru
      - DOMAIN-SUFFIX,moscowtimes.ru
      - DOMAIN-SUFFIX,natribu.org
      - DOMAIN-KEYWORD,animego
      - DOMAIN-KEYWORD,yummyanime
      - DOMAIN-KEYWORD,yummy-anime
      - DOMAIN-KEYWORD,animeportal
      - DOMAIN-KEYWORD,anime-portal
      - DOMAIN-KEYWORD,animedub
      - DOMAIN-KEYWORD,anidub
      - DOMAIN-KEYWORD,animelib
      - DOMAIN-KEYWORD,ikianime
      - DOMAIN-KEYWORD,anilibria
    behavior: classical
  ru-inline:
    type: inline
    payload:
      - DOMAIN-SUFFIX,2ip.ru
      - DOMAIN-SUFFIX,yastatic.net
      - DOMAIN-SUFFIX,yandex.net
      - DOMAIN-SUFFIX,yandex.kz
      - DOMAIN-SUFFIX,yandex.com
      - DOMAIN-SUFFIX,yadi.sk
      - DOMAIN-SUFFIX,mycdn.me
      - DOMAIN-SUFFIX,jivosite.com
      - DOMAIN-SUFFIX,vk.com
      - DOMAIN-SUFFIX,avira.com
      - DOMAIN-SUFFIX,.ru
      - DOMAIN-SUFFIX,.su
      - DOMAIN-SUFFIX,.by
      - DOMAIN-SUFFIX,.ru.com
      - DOMAIN-SUFFIX,.ru.net
      - DOMAIN-SUFFIX,kudago.com
      - DOMAIN-SUFFIX,kinescope.io
      - DOMAIN-SUFFIX,redheadsound.studio
      - DOMAIN-SUFFIX,plplayer.online
      - DOMAIN-SUFFIX,lomont.site
      - DOMAIN-SUFFIX,remanga.org
      - DOMAIN-SUFFIX,shopstory.live
      - DOMAIN-KEYWORD,avito
      - DOMAIN-KEYWORD,miradres
      - DOMAIN-KEYWORD,premier
      - DOMAIN-KEYWORD,shutterstock
      - DOMAIN-KEYWORD,2gis
      - DOMAIN-KEYWORD,diginetica
      - DOMAIN-KEYWORD,kinescopecdn
      - DOMAIN-KEYWORD,researchgate
      - DOMAIN-KEYWORD,springer
      - DOMAIN-KEYWORD,nextcloud
      - DOMAIN-KEYWORD,kaspersky
      - DOMAIN-KEYWORD,stepik
      - DOMAIN-KEYWORD,likee
      - DOMAIN-KEYWORD,snapchat
      - DOMAIN-KEYWORD,yappy
      - DOMAIN-KEYWORD,pikabu
      - DOMAIN-KEYWORD,okko
      - DOMAIN-KEYWORD,wink
      - DOMAIN-KEYWORD,kion
      - DOMAIN-KEYWORD,roblox
      - DOMAIN-KEYWORD,ozon
      - DOMAIN-KEYWORD,wildberries
      - DOMAIN-KEYWORD,aliexpress
    behavior: classical
  geosite-ru:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/category-ru.mrs
    path: ./rule-sets/geosite-ru.mrs
    interval: 86400
  yandex:
    type: http
    behavior: domain
    format: yaml
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/yandex.yaml
    path: ./rule-sets/yandex.yaml
    interval: 86400
  ai:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-!cn.mrs
    path: ./rule-sets/ai.mrs
    interval: 86400
  mailru:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/mailru.mrs
    path: ./rule-sets/mailru.mrs
  category-porn:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/category-porn.mrs
    path: ./rule-sets/category-porn.mrs
    interval: 86400
  drweb:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/drweb.mrs
    path: ./rule-sets/drweb.mrs
    interval: 86400
  geoip-ru:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/ru.mrs
    path: ./rule-sets/geoip-ru.mrs
    interval: 86400
  geoip-by:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/by.mrs
    path: ./rule-sets/geoip-by.mrs
    interval: 86400
  geosite-private:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/private.mrs
    path: ./rule-sets/geosite-private.mrs
    interval: 86400
  geoip-private:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/private.mrs
    path: ./rule-sets/geoip-private.mrs
    interval: 86400
  discord_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/discord.mrs
    path: ./rule-sets/discord_domains.mrs
    interval: 86400
  speedtest-net:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/speedtest.mrs
    path: ./rule-sets/speedtest-net.mrs
    interval: 86400
  remote-control:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-remote-control.mrs
    path: ./rule-sets/remote-control.mrs
    interval: 86400
  inline-blocked-ips:
    type: inline
    payload:
      - IP-CIDR,172.232.25.131/32 #IP –¥–ª—è —á–∞—Ç–∞ Warframe
    behavior: classical
  discord_voiceips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/discord-voice-ip-list.mrs
    path: ./rule-sets/discord_voiceips.mrs
    interval: 86400
  discord_vc:
    type: inline
    payload:
      - AND,((IP-CIDR,138.128.136.0/21),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,162.158.0.0/15),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,172.64.0.0/13),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,34.0.0.0/15),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,34.2.0.0/15),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,35.192.0.0/12),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,35.208.0.0/12),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,5.200.14.128/25),(NETWORK,udp),(DST-PORT,50000-50100))
      - AND,((IP-CIDR,66.22.192.0/18),(NETWORK,udp),(DST-PORT,50000-50100))
    behavior: classical
  refilter_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/domain-rule.mrs
    path: ./rule-sets/refilter.mrs
    interval: 86400
  youtube:
    type: http
    behavior: domain
    format: mrs
    interval: 86400
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs
    path: ./rule-sets/youtube.mrs
  google-deepmind:
    type: http
    behavior: domain
    format: mrs
    interval: 86400
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/google-gemini.mrs
    path: ./rule-sets/gooogle-deepmind.mrs
  telegram-ips:
    type: http
    behavior: ipcidr
    format: mrs
    interval: 86400
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/telegram.mrs
    path: ./rule-sets/telegram-ips.mrs
  telegram-domains:
    type: http
    behavior: domain
    format: mrs
    interval: 86400
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/telegram.mrs
    path: ./rule-sets/telegram-domains.mrs
  oisd_big:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/oisd/big.mrs
    path: ./rule-sets/oisd_big.mrs
    interval: 86400
  torrent-trackers:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-trackers.mrs
    path: ./rule-sets/torrent-trackers.mrs
    interval: 86400
  torrent-clients:
    type: http
    behavior: classical
    format: yaml
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/torrent-clients.yaml
    path: ./rule-sets/torrent-clients.yaml
    interval: 86400
  ru-apps:
    type: http
    behavior: classical
    format: yaml
    url: https://github.com/legiz-ru/mihomo-rule-sets/blob/main/other/ru-app-list.yaml
    path: ./rule-sets/ru-apps.yaml
    interval: 86400
  ru-inside:
    type: http
    behavior: classical
    format: text
    url: https://raw.githubusercontent.com/itdoginfo/allow-domains/main/Russia/inside-clashx.lst
    path: ./rule-sets/ru-inside.lst
    interval: 86400
  ru-outside:
    type: http
    behavior: classical
    format: text
    url: https://raw.githubusercontent.com/itdoginfo/allow-domains/refs/heads/main/Russia/outside-clashx.lst
    path: ./rule-sets/ru-outside.lst
    interval: 86400
  cloudflare-ips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cloudflare.mrs
    path: ./rule-sets/cloudflare-ips.mrs
    interval: 86400
  cloudflare-domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cloudflare.mrs
    path: ./rule-sets/cloudflare-domains.mrs
    interval: 86400
  cloudflare-PentiumB:
    type: http
    behavior: ipcidr
    format: text
    url: https://raw.githubusercontent.com/PentiumB/CDN-RuleSet/refs/heads/main/source/cloudflare.lst
    path: ./rule-sets/cloudflare-PentiumB.lst
    interval: 86400
  quic:
    type: inline
    behavior: classical
    payload:
      - AND,((NETWORK,udp),(DST-PORT,443))

rules:
  # –õ–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç
  - RULE-SET,geoip-private,DIRECT,no-resolve
  - RULE-SET,geosite-private,DIRECT

  # –í–ü–ù –∏ –≤—Å—è–∫–∏–µ Anydesk, Rustdesk, Teamviewer –≤ –¥–∏—Ä–µ–∫—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å)
  - PROCESS-NAME-REGEX,(?i).*tailscale.*,DIRECT
  - PROCESS-NAME-REGEX,(?i).*wireguard.*,DIRECT
  - PROCESS-NAME-REGEX,(?i).*netbird.*,DIRECT
  - PROCESS-NAME-REGEX,(?i).*anydesk.*,DIRECT
  - PROCESS-NAME-REGEX,(?i).*rustdesk.*,DIRECT
  - PROCESS-NAME-REGEX,(?i).*teamviewer.*,DIRECT
  - RULE-SET,remote-control,DIRECT

  # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - RULE-SET,oisd_big,REJECT # –°–ø–∏—Å–∫–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Legiz
  # –ü—É—Å–∫–∞–µ–º —ç—Ç–∏ –¥–æ–º–µ–Ω—ã —Ç–≤–∏—á–∞ –≤ –¥–∏—Ä–µ–∫—Ç, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ä–µ–∫–ª–∞–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - OR,((DOMAIN-SUFFIX,ads.twitch.tv),(DOMAIN-SUFFIX,playlist.ttvnw.net)),DIRECT
  # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ—Ä—Ä–µ–Ω—Ç—ã –≤ DIRECT (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - RULE-SET,torrent-clients,DIRECT
  - RULE-SET,torrent-trackers,DIRECT
  - PROCESS-NAME-REGEX,(?i).*torrent.*,DIRECT

  # –î–µ–ª–∞–µ–º REJECT QUIC (–¥–ª—è VLESS REALITY)
  #- RULE-SET,quic,REJECT

  # –û–ø—Ä–µ–¥–µ–ª—è–ª–∫–∏ IP –ø—É—Å–∫–∞–µ–º –≤ –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª
  - OR,((DOMAIN,ipwho.is),(DOMAIN,api.ip.sb),(DOMAIN,ipapi.co),(DOMAIN,ipinfo.io),(DOMAIN-SUFFIX,2ip.io),(DOMAIN-SUFFIX,2ipcore.com)),üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã

  # -----

  # ‚ñ∂Ô∏è YouTube
  - RULE-SET,youtube,‚ñ∂Ô∏è YouTube
  - PROCESS-NAME-REGEX,(?i).*youtube.*,‚ñ∂Ô∏è YouTube

  # ‚û§ Telegram
  - RULE-SET,telegram-ips,‚û§ Telegram
  - RULE-SET,telegram-domains,‚û§ Telegram
  - PROCESS-NAME-REGEX,(?i).*ayugram.*,‚û§ Telegram
  - PROCESS-NAME-REGEX,(?i).*telegram.*,‚û§ Telegram

  # üí¨ Discord
  - AND,((RULE-SET,cloudflare-ips),(NETWORK,udp),(DST-PORT,19200-19500)),üí¨ Discord
  - AND,((RULE-SET,cloudflare-PentiumB),(NETWORK,udp),(DST-PORT,19200-19500)),üí¨ Discord
  - AND,((RULE-SET,discord_voiceips),(NETWORK,udp),(DST-PORT,50000-50100)),üí¨ Discord
  - RULE-SET,discord_vc,üí¨ Discord
  - RULE-SET,discord_domains,üí¨ Discord
  - PROCESS-NAME-REGEX,(?i).*discord.*,üí¨ Discord

  # üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã
  - RULE-SET,ru-inside,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # ITDog —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –†–§ - https://github.com/itdoginfo/allow-domains/blob/main/Russia/inside-raw.lst
  - RULE-SET,refilter_domains,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # Re:Filter —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –†–§ - https://github.com/1andrevich/Re-filter-lists/blob/main/community.lst
  - RULE-SET,ru-inline-banned,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # –î–æ–º–µ–Ω—ã –Ω–∞–±–∏—Ç—ã–µ –≤—Ä—É—á–Ω—É—é (—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã—à–µ)
  - RULE-SET,inline-blocked-ips,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # IP –Ω–∞–±–∏—Ç—ã–µ –≤—Ä—É—á–Ω—É—é (—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã—à–µ)
  - RULE-SET,category-porn,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  - RULE-SET,ai,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # –ù–µ–π—Ä–æ—Å–µ—Ç–∏
  - RULE-SET,google-deepmind,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # Google Gemini –∏ AI Studio
  - RULE-SET,speedtest-net,üö´ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∞–π—Ç—ã # speedtest.net

  # üü† Cloudflare
  - RULE-SET,cloudflare-ips,üü† Cloudflare # –°–ø–∏—Å–æ–∫ ip MetaCubeX
  - RULE-SET,cloudflare-domains,üü† Cloudflare # –î–æ–º–µ–Ω—ã —Å–µ—Ä–≤–∏—Å–æ–≤ Cloudflare
  - RULE-SET,cloudflare-PentiumB,üü† Cloudflare # –°–ø–∏—Å–æ–∫ ip –æ—Ç PentiumB

  # ‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã
  - RULE-SET,ru-inline,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # –°–ø–∏—Å–∫–∏ –Ω–∞–±–∏—Ç—ã–µ –≤—Ä—É—á–Ω—É—é (—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã—à–µ)
  - RULE-SET,ru-outside,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # ITDog —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –†–§ - https://github.com/itdoginfo/allow-domains/blob/main/Russia/outside-raw.lst
  - RULE-SET,ru-apps,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # –°–ø–∏—Å–∫–∏ –†–£ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ—Ç Legiz
  - RULE-SET,yandex,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # –Ø–Ω–¥–µ–∫—Å
  - RULE-SET,mailru,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # mail.ru
  - RULE-SET,drweb,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # DrWeb
  - RULE-SET,geosite-ru,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã
  - RULE-SET,geoip-ru,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã
  - RULE-SET,geoip-by,‚ö™üîµüî¥ RU —Å–∞–π—Ç—ã # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

  # üåç –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã
  - MATCH,üåç –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã`;

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ñ–∏–≥
    return conf;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞
async function getWarpConfigLink4() {
    try {
        const conf = await generateWarpConfig();
        const confBase64 = Buffer.from(conf).toString('base64');
        return `${confBase64}`;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞:', error);
        return null;
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
module.exports = { getWarpConfigLink4 };
